<!DOCTYPE HTML5>
<html>
	<head>
		<meta charset="utf8"/>
		<title>lxl</title>
		<script src="jquery-3.6.1.min.js"></script>
		<script src="tool.js"></script>
		<style>
			*{margin:0;padding:0;list-style-type:none;box-sizing:border;}
			#box
			{
				width:70%;
				margin:100px auto 0;
				height:400px;
				border:1px solid black;
				padding:10px 30px;
			}
			#header
			{
				width:100%;
				height:70px;
				border:1px solid #eee;
			}
			#header>div:nth-of-type(1)
			{
				width:30%;
				height:70px;
				line-height:70px;
				font-size:1.3em;
				background:#ccc;
				float:left;
			}
			#btn
			{
				width:65%;
				height:70px;
				line-height:70px;
				float:left;
				position:relative;
			}
			#btn>*{line-height:unset;}
			#btn > span
			{
				position:absolute;
				right:0;
				width:40%;
				text-align:center;
				border:1px solid black;
				background:url("img/purchase.png") no-repeat left center/20%;
			}
			#btn>a
			{
				display:block;
				position:absolute;
				right:0;
				width:30px;
				height:100%;
				background:url("img/arrow-down.png") no-repeat right  center/25px;
				transition:all ease 1s;
			}
			#btn>a.active
			{
				transform:rotateX(0.5turn);
			}
			#last_add
			{
				width:100%;
				height:0px;
				opacity:0;
				position:absolute;
				top:70px;
				background:#eee;
				line-height:30px;
				z-index:100;
			}
			#last_add > p:first-child
			{
				text-align:center;
				height:20%;
				line-height:40px;
				border-bottom:1px solid black;
			}
			#last_add > table
			{
				border-collapse:collapse;
				width:100%;
				height:60%;
			}
			table  tr > td:first-child > img
			{
				width:50px;
				height:40px;
			}
			#last_add > p:last-child
			{
				height:20%;
				text-align:right;
				margin:5px 10px 0px 0px;
			}
			#last_add > p:last-child > button
			{
				width:80px;
				height:30px;
			}
			.msg
			{
				width:calc(100%-40px);
				height:300px;
				padding:0 20px;
				background:#888;
				display:none;
			}
			.msg > p:first-child
			{
				height:30px;
				line-height:30px;
				border-bottom:1px solid black;
			}
			.msg > table
			{
				margin-top:20px;
				width:100%;
				border-collapse:collapse;
			}
		</style>
		<script>
			window.onload=function()
			{
				let oa = $("#btn>a");
				let oDiv = $("#last_add");
				let msg_tb = $(".msg");
				let oBtn = $("#last_add>p:last-child>button");

				//点击下拉按钮，反转样式
				let x = false;
				oa.click(function(){
				
					if(!x)
					{
						oa.addClass("active");
						startMove_json(oDiv[0],{'height':200,'opacity':100},4);
					}
					else
					{
						oa.removeClass("active");
						startMove_json(oDiv[0],{'height':0,'opacity':0},4);
					}
					x=!x;
				});
				
				//点击“查看购物车列表”按钮 显示表格
				let y = false;
				oBtn.click(function()
				{
					oa.click();
					if(!y)
					{
						msg_tb.show(1000,function()
						{
							oBtn.text("隐藏购物车");
						});
					}
					else
					{
						msg_tb.hide(1000,function()
						{
							oBtn.text("查看购物车");
						});
					}
					y=!y;
				});

	}
		</script>
	</head>
		
	<body>
		<div id="box">
			<div id="header">
				<div>购物清单</div>
				<div id="btn">
					<span>
						购物车结算
					</span>
					<a href="#"></a>	
					<div id="last_add">
						<p>最新加入的商品</p>
						<table border="1">
							<tr>
								<td align="center"><img src="img/purchase.png"/></td>
								<td>固态硬盘512G</td>
							</tr>
							<tr>
								<td align="center"><img src="img/purchase.png"/></td>
								<td>鼠标</td>
							</tr>
						</table>
							<p><button>查看购物车</button></p>
					</div>
				</div>
			</div>


			<div class="msg">
				<p>购物清单表格</p>

				<table border="1">
					<caption>购物清单</caption>
					<thead>
						<tr>
							<th>商品</th>
							<th>单价(元)</th>
							<th>数量</th>
							<th>小记</th>
							<th>操作</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>固态硬盘512G</td>
							<td>300</td>
							<td>1</td>
							<td>300</td>
							<td><a href="#">删除</a></td>
						</tr>
						<tr>
							<td>鼠标</td>
							<td>50</td>
							<td>3</td>
							<td>150</td>
							<td><a href="#">删除</a></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<td colspan="5" align="right">总计:450</td>
						</tr>
				</table>
			</div>
		</div>
	</body>
</html>

